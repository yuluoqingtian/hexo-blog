<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>1ã€rollupç¯å¢ƒæ­å»º</title>
    <url>/hexo-blog/%E5%89%8D%E7%AB%AF/vue/%E6%89%8B%E5%86%99vue2%E6%BA%90%E7%A0%81/%E5%89%8D%E7%AB%AF/vue/%E6%89%8B%E5%86%99vue2%E6%BA%90%E7%A0%81/1%E3%80%81rollup%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h2 id="ç›®æ ‡ï¼š"><a href="#ç›®æ ‡ï¼š" class="headerlink" title="ç›®æ ‡ï¼š"></a>ç›®æ ‡ï¼š</h2><ul>
<li>æ­å»º vueæºç å¼€å‘ç¯å¢ƒï¼Œä½¿ç”¨rollupå·¥å…·è¿›è¡Œæ‰“åŒ…ã€‚</li>
<li>æœ‰sourcemapï¼Œèƒ½å¤Ÿè°ƒè¯•æºç ã€‚</li>
<li>æ‰“åŒ…æˆ umd æ¨¡å—èƒ½åœ¨æµè§ˆå™¨ä¸­ç›´æ¥å¼•å…¥ã€‚</li>
<li>ä½¿ç”¨babelç¼–è¯‘æˆES5å¢åŠ å…¼å®¹æ€§ã€‚</li>
</ul>
<h2 id="1-æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹-vue2-stage"><a href="#1-æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹-vue2-stage" class="headerlink" title="1. æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹ vue2-stage"></a>1. æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹ vue2-stage</h2><p><code>npm init -y</code> åˆå§‹åŒ–é¡¹ç›®</p>
<blockquote>
<p>npm init -yæ˜¯ä¸€ä¸ªç”¨äºåœ¨Node.jsé¡¹ç›®ä¸­å¿«é€Ÿç”Ÿæˆé»˜è®¤package.jsonæ–‡ä»¶çš„å‘½ä»¤ã€‚</p>
<p>é€šè¿‡è¿è¡Œ<code>npm init -y</code>å‘½ä»¤ï¼Œä½ å¯ä»¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„<code>package.json</code>æ–‡ä»¶ï¼Œè€Œæ— éœ€æ‰‹åŠ¨è¾“å…¥æ¯ä¸ªå­—æ®µçš„å€¼ã€‚<code>-y</code>é€‰é¡¹è¡¨ç¤ºâ€œyesâ€ï¼Œå³è‡ªåŠ¨æ¥å—æ‰€æœ‰é»˜è®¤å€¼ã€‚</p>
</blockquote>
<h2 id="2-å®‰è£…-rollup-æ‰“åŒ…å·¥å…·"><a href="#2-å®‰è£…-rollup-æ‰“åŒ…å·¥å…·" class="headerlink" title="2. å®‰è£… rollup æ‰“åŒ…å·¥å…·"></a>2. å®‰è£… rollup æ‰“åŒ…å·¥å…·</h2><p><code>npm install rollup</code></p>
<blockquote>
<p>Rollupæ˜¯ä¸€ä¸ªè½»é‡ã€é«˜æ•ˆçš„JavaScriptæ¨¡å—æ‰“åŒ…å™¨ï¼Œä¸“æ³¨äºESæ¨¡å—ï¼Œå…·æœ‰ä¼˜åŒ–ä»£ç å¤§å°å’Œæ€§èƒ½çš„ç‰¹ç‚¹ã€‚</p>
</blockquote>
<h2 id="3-å®‰è£…-rollup-plugin-babel-æ’ä»¶-ã€-babelæ ¸å¿ƒæ¨¡å—ã€ä»¥åŠbabelçš„é¢„è®¾"><a href="#3-å®‰è£…-rollup-plugin-babel-æ’ä»¶-ã€-babelæ ¸å¿ƒæ¨¡å—ã€ä»¥åŠbabelçš„é¢„è®¾" class="headerlink" title="3. å®‰è£… rollup-plugin-babel æ’ä»¶ ã€ babelæ ¸å¿ƒæ¨¡å—ã€ä»¥åŠbabelçš„é¢„è®¾"></a>3. å®‰è£… rollup-plugin-babel æ’ä»¶ ã€ babelæ ¸å¿ƒæ¨¡å—ã€ä»¥åŠbabelçš„é¢„è®¾</h2><p><code>npm install rollup-plugin-babel @babel/core @babel/preset-env --save-dev</code></p>
<blockquote>
<p>Babelæ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„JavaScriptç¼–è¯‘å·¥å…·ï¼Œç”¨äºå°†æœ€æ–°ç‰ˆæœ¬çš„JavaScriptä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ç‰ˆæœ¬ï¼Œä»¥ä¾¿åœ¨ä¸æ”¯æŒæœ€æ–°è¯­æ³•å’Œç‰¹æ€§çš„ç¯å¢ƒä¸­è¿è¡Œã€‚</p>
</blockquote>
<p>ä»¥ä¸Šåº“éƒ½å®‰è£…åœ¨å¼€å‘ä¾èµ–ä¸­ <code>-dev</code>ã€‚</p>
<h2 id="4-æ–°å¢-rollup-æ‰“åŒ…é…ç½®æ–‡ä»¶rollup-config-js"><a href="#4-æ–°å¢-rollup-æ‰“åŒ…é…ç½®æ–‡ä»¶rollup-config-js" class="headerlink" title="4. æ–°å¢ rollup æ‰“åŒ…é…ç½®æ–‡ä»¶rollup.config.js"></a>4. æ–°å¢ rollup æ‰“åŒ…é…ç½®æ–‡ä»¶<code>rollup.config.js</code></h2><p>æ‰§è¡Œæ‰“åŒ…å‘½ä»¤çš„æ—¶å€™ä¼šé»˜è®¤æ‰¾è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚åœ¨å…¶ä¸­æ·»åŠ é…ç½®å¦‚ä¸‹</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// rollup.config.js</span></span><br><span class="line"><span class="keyword">import</span> babel <span class="keyword">from</span> <span class="string">&#x27;rollup-plugin-babel&#x27;</span></span><br><span class="line"><span class="comment">// rollup æ‰“åŒ…é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">input</span>: <span class="string">&quot;./src/index.js&quot;</span>, <span class="comment">// å…¥å£</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">file</span>: <span class="string">&quot;./dist/vue.js&quot;</span>, <span class="comment">//å‡ºå£</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Vue&quot;</span>, <span class="comment">// æŒ‡å®šè¾“å‡ºçš„åŒ…çš„åç§°ï¼ˆå˜é‡åï¼‰ç”¨äºåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­é€šè¿‡&lt;script&gt;æ ‡ç­¾å¼•å…¥æ‰“åŒ…åçš„æ–‡ä»¶æ—¶ï¼Œæš´éœ²çš„å…¨å±€å˜é‡å</span></span><br><span class="line">    <span class="attr">format</span>:<span class="string">&#x27;umd&#x27;</span>, <span class="comment">//å¯¼å‡ºçš„ä»£ç ä½¿ç”¨ä½•ç§æ¨¡å—åŒ–è§„èŒƒï¼Œå¯é€‰å€¼ï¼šamdã€cjsã€esã€iifeã€umdã€system</span></span><br><span class="line">    <span class="attr">sourcemap</span>:<span class="literal">true</span>, <span class="comment">// å¸Œæœ›å¯ä»¥è°ƒè¯•æºä»£ç </span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>:[</span><br><span class="line">    <span class="title function_">babel</span>(&#123;</span><br><span class="line">        <span class="attr">exclude</span>:<span class="string">&#x27;node_modules/**&#x27;</span> <span class="comment">// æ’é™¤node_moduleçš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="5-æ–°å»ºæ–‡ä»¶-babelrc"><a href="#5-æ–°å»ºæ–‡ä»¶-babelrc" class="headerlink" title="5. æ–°å»ºæ–‡ä»¶.babelrc"></a>5. æ–°å»ºæ–‡ä»¶<code>.babelrc</code></h2><p>rollupé…ç½®ä¸­ä½¿ç”¨äº†babelæ’ä»¶ï¼Œbabelä¹Ÿéœ€è¦æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ–°å»ºæ–‡ä»¶<code>.babelrc</code>ï¼Œå¹¶ä½¿ç”¨<code>@babel/preset-env</code>é¢„è®¾</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;@babel/preset-env&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>@babel&#x2F;preset-envä½œä¸ºä¸€ä¸ªé¢„è®¾ï¼Œæä¾›äº†æ™ºèƒ½åœ°æ ¹æ®ç›®æ ‡ç¯å¢ƒè¿›è¡Œé…ç½®çš„èƒ½åŠ›ã€‚å®ƒæ ¹æ®ä½ æŒ‡å®šçš„ç›®æ ‡æµè§ˆå™¨ã€Node.jsç‰ˆæœ¬æˆ–å…¶ä»–è¿è¡Œç¯å¢ƒï¼Œè‡ªåŠ¨ç¡®å®šéœ€è¦çš„Babelæ’ä»¶å’Œè½¬æ¢è§„åˆ™ï¼Œå¹¶ç”Ÿæˆé€‚åˆè¯¥ç¯å¢ƒçš„è½¬æ¢ä»£ç ã€‚</p>
</blockquote>
<h2 id="6-æ–°å¢æ‰“åŒ…å‘½ä»¤"><a href="#6-æ–°å¢æ‰“åŒ…å‘½ä»¤" class="headerlink" title="6. æ–°å¢æ‰“åŒ…å‘½ä»¤"></a>6. æ–°å¢æ‰“åŒ…å‘½ä»¤</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"></span><br><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span><span class="string">&quot;rollup -cw&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°ä¸­cè¡¨ç¤ºä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œwè¡¨ç¤ºç›‘æ§æ–‡ä»¶å˜åŒ–</span></span><br></pre></td></tr></table></figure>

<h2 id="7-æŸ¥çœ‹æ‰“åŒ…ç»“æœ"><a href="#7-æŸ¥çœ‹æ‰“åŒ…ç»“æœ" class="headerlink" title="7. æŸ¥çœ‹æ‰“åŒ…ç»“æœ"></a>7. æŸ¥çœ‹æ‰“åŒ…ç»“æœ</h2><p>æ­¤æ—¶å¯ä»¥è¿è¡Œ <code>npm run dev</code> æ¥æŸ¥çœ‹æ‰“åŒ…ç»“æœ</p>
<blockquote>
<p>è‹¥è¿è¡Œæ—¶æŠ¥é”™ Error: Cannot find module â€˜node:processâ€™ï¼Œå¯èƒ½æ—¶ç”±äºnodeç‰ˆæœ¬å’Œrollupç‰ˆæœ¬ä¸åŒ¹é…å¯¼è‡´çš„ï¼Œé™ä½è‡³ â€œrollupâ€: â€œ2.56.0â€ åæˆåŠŸã€‚</p>
</blockquote>
<p>æ‰“åŒ…åç”Ÿæˆäº†vue.js æ–‡ä»¶ä»¥åŠ sourcemapæ–‡ä»¶ã€‚ç›®å½•ç»“æ„ä»¥åŠæ‰“åŒ…åçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ã€‚</p>
<p><img src="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230617/image.6rw1v7u6gdw0.webp" alt="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230617/image.6rw1v7u6gdw0.webp"></p>
<p>å› ä¸ºæˆ‘ä»¬æ‰“åŒ…æ¨¡å—çš„è§„åˆ™é€‰çš„æ—¶umdï¼Œæ‰€ä»¥æ˜¯å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ï¼Œå¹¶ä¸”ä¼šæ·»åŠ ä¸€ä¸ªå…¨å±€å˜é‡Vueã€‚</p>
<h2 id="8-åœ¨distä¸‹æ–°å»ºindex-html-ç”¨äºæµ‹è¯•"><a href="#8-åœ¨distä¸‹æ–°å»ºindex-html-ç”¨äºæµ‹è¯•" class="headerlink" title="8. åœ¨distä¸‹æ–°å»ºindex.html ç”¨äºæµ‹è¯•"></a>8. åœ¨distä¸‹æ–°å»ºindex.html ç”¨äºæµ‹è¯•</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--index.html--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Vue&quot;</span>, <span class="title class_">Vue</span>);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ§åˆ¶å°æ‰“å°å‡ºäº†æˆ‘ä»¬Vueå¯¹è±¡çš„ç›¸å…³ä¿¡æ¯</p>
<p><img src="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230617/image.1c1c8j5m4p28.webp" alt="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230617/image.1c1c8j5m4p28.webp"></p>
<h2 id="è‡³æ­¤ï¼ŒåŸºæœ¬å¼€å‘ç¯å¢ƒæ­å»ºå®Œæˆï¼"><a href="#è‡³æ­¤ï¼ŒåŸºæœ¬å¼€å‘ç¯å¢ƒæ­å»ºå®Œæˆï¼" class="headerlink" title="è‡³æ­¤ï¼ŒåŸºæœ¬å¼€å‘ç¯å¢ƒæ­å»ºå®Œæˆï¼"></a><strong>è‡³æ­¤ï¼ŒåŸºæœ¬å¼€å‘ç¯å¢ƒæ­å»ºå®Œæˆï¼</strong></h2>]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>vue</category>
        <category>æ‰‹å†™vue2æºç </category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>2ã€å®ç°å“åº”å¼æ•°æ®</title>
    <url>/hexo-blog/%E5%89%8D%E7%AB%AF/vue/%E6%89%8B%E5%86%99vue2%E6%BA%90%E7%A0%81/%E5%89%8D%E7%AB%AF/vue/%E6%89%8B%E5%86%99vue2%E6%BA%90%E7%A0%81/2%E3%80%81%E5%AE%9E%E7%8E%B0%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><ul>
<li>å®ç° <code>new Vue(&#123;data&#125;)</code> ä¸­æ•°æ®çš„å“åº”å¼ï¼Œå€¼æ”¹å˜æ—¶èƒ½ç›‘æ§åˆ°ã€‚</li>
<li>dataä¸­å·²å­˜åœ¨çš„å±æ€§ï¼Œå±æ€§å€¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡aï¼Œaä¸­çš„å±æ€§ã€‚å’Œå°†å±æ€§å€¼æ”¹å˜ä¸ºä¸€ä¸ªæ–°çš„å¯¹è±¡bï¼Œbä¸­çš„å±æ€§ï¼Œéƒ½éœ€è¦åšåˆ°ç›¸åº”å¼ã€‚</li>
<li>å°†dataä¸­çš„æ‰€æœ‰å±æ€§é€šè¿‡ä»£ç†ï¼ŒæŒ‚è½½åˆ°vmå®ä¾‹ä¸Šé¢ï¼Œå¯ä»¥é€šè¿‡ <code>vm[key]</code> ç›´æ¥è¯»å–å’Œæ“ä½œã€‚</li>
</ul>
<h2 id="åŠŸèƒ½æ•´ä½“ç»“æ„"><a href="#åŠŸèƒ½æ•´ä½“ç»“æ„" class="headerlink" title="åŠŸèƒ½æ•´ä½“ç»“æ„"></a>åŠŸèƒ½æ•´ä½“ç»“æ„</h2><p><img src="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230618/%E5%AE%9E%E7%8E%B0%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE.drawio.4nse0ogsuru0.webp" alt="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230618/å®ç°å“åº”å¼æ•°æ®.drawio.4nse0ogsuru0.webp"></p>
<h2 id="1-æš´éœ²Vueæ„é€ å‡½æ•°"><a href="#1-æš´éœ²Vueæ„é€ å‡½æ•°" class="headerlink" title="1. æš´éœ²Vueæ„é€ å‡½æ•°"></a>1. æš´éœ²Vueæ„é€ å‡½æ•°</h2><p>åœ¨ä½¿ç”¨Vueçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·ç”¨çš„</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">        el: &quot;#app&quot;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            console.log(&#x27;this1&#x27;, this)</span><br><span class="line">          return &#123;</span><br><span class="line">            name: &quot;foo&quot;,</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥newä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼ å…¥äº†é…ç½®é¡¹å‚æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬çš„index.jså…¥å£æ–‡ä»¶ï¼Œéœ€è¦æš´éœ²ä¸€ä¸ªåä¸ºVueçš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”æ¥å—å‚æ•°optionsï¼Œå¯¹é…ç½®è¿›è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Vue</span>(<span class="params">options</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_init</span>(options)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">initMixin</span>(<span class="title class_">Vue</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œçš„initMixin æ˜¯å†™åœ¨init.jsä¸­çš„æ–¹æ³•ï¼Œç›®çš„æ˜¯ç»™VueåŸå‹å¢åŠ _initæ–¹æ³•ï¼Œè¯¦è§ç¬¬2æ­¥ã€‚</p>
</blockquote>
<h2 id="2-åˆ›å»ºinit-js"><a href="#2-åˆ›å»ºinit-js" class="headerlink" title="2. åˆ›å»ºinit.js"></a>2. åˆ›å»ºinit.js</h2><p>init.js æš´éœ²ä¸€ä¸ªå‡½æ•°initMixinï¼Œåˆ™ä¸ªå‡½æ•°ä¸»è¦æ˜¯ç”¨æ¥ç»™VueåŸå‹å¢åŠ _initæ–¹æ³•ï¼Œinitæ–¹æ³•ä¸­ï¼Œéœ€è¦å°†ç”¨æˆ·ä¼ å…¥çš„é…ç½®æŒ‚åœ¨åˆ°vmå®ä¾‹çš„$optionså±æ€§ä¸Šé¢ã€‚å¹¶ä¸”è°ƒç”¨<code>initState()</code>æ–¹æ³•å»åˆå§‹åŒ–çŠ¶æ€ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//init.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">initMixin</span>(<span class="params">Vue</span>) &#123;</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_init</span> = <span class="keyword">function</span> (<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> vm = <span class="variable language_">this</span>;</span><br><span class="line">    vm.<span class="property">$options</span> = options;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">    <span class="title function_">initState</span>(vm);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-åˆ›å»ºstate-js"><a href="#3-åˆ›å»ºstate-js" class="headerlink" title="3. åˆ›å»ºstate.js"></a>3. åˆ›å»ºstate.js</h2><p><code>steate.js</code> ä¸­ï¼Œæš´éœ²initStateæ–¹æ³•ï¼Œåç»­dataï¼Œpropsï¼Œwatchç­‰çš„åˆå§‹åŒ–ä¼šå†™åœ¨è¿™é‡Œã€‚</p>
<p>å¦‚æœvm.$options.dataæœ‰å€¼çš„åŒ–ï¼Œåˆ™æ‰§è¡Œåˆå§‹åŒ–dataçš„æ–¹æ³•ï¼ŒinitData()ï¼ŒinitDataä¸­ä¼šå¯¹dataè¿›è¡Œæ•°æ®è§‚æµ‹â€”â€”<code>observe(data)</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//state.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">initState</span>(<span class="params">vm</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> opts = vm.<span class="property">$options</span>;</span><br><span class="line">  <span class="keyword">if</span> (opts.<span class="property">data</span>) &#123;</span><br><span class="line">    <span class="title function_">initData</span>(vm);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initData</span>(<span class="params">vm</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = vm.<span class="property">$options</span>.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">  data = vm.<span class="property">_data</span> = <span class="title function_">isFunction</span>(data) ? data.<span class="title function_">call</span>(vm) : data;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">observe</span>(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-observe-x2F-index-js"><a href="#4-observe-x2F-index-js" class="headerlink" title="4. observe&#x2F;index.js"></a>4. observe&#x2F;index.js</h2><p>æ–°å»ºobserveç›®å½•ï¼Œä»¥åŠindex.jsï¼Œä½œä¸ºæ•°æ®è§‚æµ‹çš„å…¥å£ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬æœ¬æ¬¡ç›®æ ‡è¦å®ç°çš„é‡ç‚¹åŠŸèƒ½ï¼Œé€šè¿‡<code>Object.defineProperty</code> ,éå†dataä¸­çš„æ•°æ®å±æ€§ï¼Œé‡æ–°å®šä¹‰æ¯ä¸ªå±æ€§ï¼Œå¹¶æ·»åŠ getterå’Œsetterã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// observe/index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; isObject &#125; <span class="keyword">from</span> <span class="string">&quot;../utils&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§è¿›è¡ŒåŠ«æŒ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">walk</span>(data);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">walk</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">keys</span>(data).<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">defineReactive</span>(data, key, data[key]);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†dataä¸­æ¯ä¸ªå±æ€§ ç”¨ definePropertyé‡æ–°çš„å®šä¹‰</span></span><br><span class="line"><span class="comment">// å› ä¸ºæ˜¯éå†+é€’å½’ï¼Œæ‰€ä»¥æ€§èƒ½å·®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineReactive</span>(<span class="params">data, key, value</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœå±æ€§çš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å†è¿›è¡ŒåŠ«æŒ</span></span><br><span class="line">  <span class="title function_">observe</span>(value);</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, key, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœç”¨æˆ·æ–°èµ‹å€¼ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿè¦å¯¹å…¶è¿›è¡ŒåŠ«æŒ</span></span><br><span class="line">      <span class="title function_">observe</span>(newVal);</span><br><span class="line">      value = newVal;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">observe</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœæ˜¯å¯¹è±¡æ‰è§‚æµ‹</span></span><br><span class="line">  <span class="keyword">if</span> (!<span class="title function_">isObject</span>(data)) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é»˜è®¤æœ€å¤–å±‚çš„dataæ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Observer</span>(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<aside>
ğŸ’¡ ä¸ºä»€ä¹ˆdefineReactiveä¸­è¦æŠŠ data[key] ä½œä¸ºvalueä¼ è¿›å»ï¼Œè€Œä¸æ˜¯åœ¨defineReactiveç›´æ¥æ”¹å˜è¯»å–æˆ–æ”¹å˜data[key]ï¼Ÿ
    </aside>


<p>å…¶å®æˆ‘ä»¬åœ¨defineReactiveä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°çš„ï¼Œæœ‰getterå’Œsetterçš„å±æ€§ï¼Œè¦†ç›–äº†åŸæ¥çš„dataä¸­çš„keyï¼Œæ‰€ä»¥åœ¨getterä¸­ç›´æ¥è¯»data[key]ï¼Œåˆä¼šè¿›å…¥getterï¼Œé™·å…¥æ— é™å¾ªç¯ï¼Œsetterä¹Ÿæ˜¯åŒç†ã€‚</p>
<p>æˆ‘ä»¬å°†åŸæ¥çš„å€¼ä½œä¸ºåˆå§‹å€¼valueä¼ è¿›æ¥ï¼Œgetterå’Œsetterä¸­éƒ½æ˜¯å¯¹è¿™ä¸ªvalueè¿›è¡Œæ“ä½œï¼Œä¸ä¼šæœ‰é—®é¢˜ã€‚</p>
<aside>
ğŸ’¡ ä¸ºä»€ä¹ˆdefineReactiveçš„ä¸€å¼€å§‹å’Œsetterä¸­ï¼Œè¿˜è¦è°ƒç”¨observe()
</aside>

<p>å› ä¸ºdataä¸­çš„å±æ€§å¯èƒ½æ˜¯å¯¹è±¡çš„åµŒå¥—ï¼Œæˆ‘ä»¬ä¸ä»…è¦è§‚æµ‹ç¬¬ä¸€å±‚å±æ€§ï¼Œä¹Ÿè¦è§‚æµ‹æ·±å±‚çš„å¯¹è±¡ï¼Œæ‰€ä»¥defineReactiveå¼€å§‹è°ƒç”¨observeï¼Œå¦‚æœdata[key]æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œå°±é€’å½’è§‚æµ‹ã€‚</p>
<p>å¦‚æœç”¨æˆ·ç»™æŸä¸ªå±æ€§èµ‹å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬åŒæ ·ä¹Ÿè¦è®©å…¶æˆä¸ºå“åº”å¼çš„ï¼Œæ‰€ä»¥åœ¨setterä¸­ä¹Ÿè¦å¯¹è®¾ç½®çš„æ–°å€¼è¿›è¡Œè§‚æµ‹ã€‚</p>
<aside>
ğŸ’¡ ç°åœ¨æœ‰å“ªäº›å±æ€§æ˜¯å“åº”å¼çš„ï¼Œå“ªäº›ä¸æ˜¯ï¼Ÿ
</aside>

<p>é€šè¿‡æˆ‘ä»¬ä¸Šé¢çš„ä»£ç ä¸éš¾å½’çº³å‡º</p>
<p>å“åº”å¼çš„å±æ€§ï¼š</p>
<ol>
<li>dataä¸­æœ¬æ¥å°±å­˜åœ¨çš„å±æ€§ï¼Œæ˜¯å“åº”å¼çš„</li>
<li>dataä¸­æ·±å±‚çº§ä¸­å¯¹è±¡ä¸­çš„å±æ€§ï¼Œæ˜¯å“åº”å¼çš„</li>
<li>ç»™å“åº”å¼çš„æŸä¸ªå±æ€§èµ‹å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å±æ€§ä¹Ÿæ˜¯å“åº”å¼çš„</li>
</ol>
<p>éç›¸åº”å¼çš„å±æ€§ï¼š</p>
<ol>
<li>åƒå¯¹è±¡ä¸­ç›´æ¥æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œè¯¥å±æ€§ä¸æ˜¯å“åº”å¼çš„</li>
</ol>
<h2 id="5-é€šè¿‡ä»£ç†ï¼Œå°†dataä¸­çš„å±æ€§æŒ‚åœ¨åˆ°vmå®ä¾‹ä¸Šé¢ã€‚"><a href="#5-é€šè¿‡ä»£ç†ï¼Œå°†dataä¸­çš„å±æ€§æŒ‚åœ¨åˆ°vmå®ä¾‹ä¸Šé¢ã€‚" class="headerlink" title="5. é€šè¿‡ä»£ç†ï¼Œå°†dataä¸­çš„å±æ€§æŒ‚åœ¨åˆ°vmå®ä¾‹ä¸Šé¢ã€‚"></a>5. é€šè¿‡ä»£ç†ï¼Œå°†dataä¸­çš„å±æ€§æŒ‚åœ¨åˆ°vmå®ä¾‹ä¸Šé¢ã€‚</h2><p>ç°åœ¨æ‰€æœ‰ç›¸åº”å¼çš„æ•°æ®å­˜åœ¨vm._dataä¸­ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ï¼Œå…¶å®æˆ‘ä»¬åœ¨vueä¸­æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡vm[key]è®¿é—®åˆ°dataä¸­çš„å“åº”å¼æ•°æ®çš„ã€‚æ­¤å¤„å¯ä»¥é€šè¿‡ä»£ç†çš„æ–¹å¼å°†å¯¹vm[key]çš„æ“ä½œæ˜ å°„åˆ°vm._data[key]ä¸Šé¢ã€‚è¿˜æ˜¯ä½¿ç”¨ Object.definePropertyåŠ«æŒæ•°æ®æ“ä½œã€‚</p>
<blockquote>
<p>æ³¨æ„æ­¤å¤„è¯´çš„ä»£ç†ä¸æ˜¯ES6çš„Proxyï¼Œåªæ˜¯ä¸€ç§æ€æƒ³ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// state.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">proxy</span>(<span class="params">vm, source, key</span>) &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(vm, key, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> vm[source][key];</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">      vm[source][key] = newVal;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initData</span>(<span class="params">vm</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = vm.<span class="property">$options</span>.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">  data = vm.<span class="property">_data</span> = <span class="title function_">isFunction</span>(data) ? data.<span class="title function_">call</span>(vm) : data;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†dataä¸­çš„å±æ€§æŒ‚è½½åˆ°vmå®ä¾‹ä¸Š</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">    <span class="title function_">proxy</span>(vm, <span class="string">&quot;_data&quot;</span>, key);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">observe</span>(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-åœ¨é¡µé¢ä¸­æµ‹è¯•"><a href="#6-åœ¨é¡µé¢ä¸­æµ‹è¯•" class="headerlink" title="6. åœ¨é¡µé¢ä¸­æµ‹è¯•"></a>6. åœ¨é¡µé¢ä¸­æµ‹è¯•</h2><p>æ­¤æ—¶ï¼Œå¯ä»¥åœ¨é¡µé¢ä¸­ï¼Œå¯¹ä»¥ä¸Šçš„åŠŸèƒ½è¿›è¡Œæµ‹è¯•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// index.html</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&quot;foo&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">obj</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">key1</span>: <span class="string">&quot;1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">obj2</span>: <span class="string">&quot;2&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">      vm.<span class="property">obj2</span> = &#123; <span class="attr">key2</span>: <span class="string">&quot;2&quot;</span> &#125;;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;vm&quot;</span>, vm);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230618/image.1n4wn9ttidb4.webp" alt="https://cdn.staticaly.com/gh/yuluoqingtian/picx-images-hosting@master/20230618/image.1n4wn9ttidb4.webp"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œnameï¼Œobj1ï¼Œobj2è¿™3ä¸ªå±æ€§éƒ½å·²ç»æŒ‚åœ¨åˆ°äº†vmå®ä¾‹ä¸Šï¼Œå¹¶ä¸”æœ‰getterå’Œsetterã€‚obj1å±äºdataä¸­çš„åµŒå¥—å¯¹è±¡ï¼Œå…¶ä¸­çš„key1ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚obj2å¼€å§‹çš„å€¼ä¸æ˜¯å¯¹è±¡ï¼Œåèµ‹å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­çš„key2ä¹Ÿæœ‰äº†getterå’Œsetterã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol>
<li>Vueæ•°æ®å“åº”å¼çš„åŸç†å°±æ˜¯é€’å½’éå†dataä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œç”¨Object.definePropertyï¼Œé‡æ–°å®šä¹‰è¯¥å±æ€§ï¼Œå¹¶æ·»åŠ getterå’Œsetterã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“dataä¸­æ•°æ®è¿‡å¤šï¼Œvue2æ€§èƒ½ä¼šå˜å·®çš„åŸå› ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦åœ¨vue2ä¸­æé«˜æ€§èƒ½ï¼Œåº”å°½é‡ä½¿dataæ‰å¹³åŒ–ã€‚</li>
<li>é€šè¿‡vueæ·»åŠ ç›¸åº”å¼çš„åŸç†å¯çŸ¥ï¼Œå¯¹ä¸€ä¸ªå¯¹è±¡ç›´æ¥æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§å¹¶ä¸æ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨Vue.$setå»æ–°å¢å±æ€§çš„åŸå› ã€‚</li>
</ol>
<h2 id="æºç é™„ä»¶"><a href="#æºç é™„ä»¶" class="headerlink" title="æºç é™„ä»¶"></a>æºç é™„ä»¶</h2><p><a href="/hexo-blog/files/%E6%89%8B%E5%86%99vue2%E6%BA%90%E7%A0%81/code1.zip">code.zip</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>vue</category>
        <category>æ‰‹å†™vue2æºç </category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å®ç°è‡ªå®šä¹‰v-model</title>
    <url>/hexo-blog/%E5%89%8D%E7%AB%AF/vue/vue%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/%E5%89%8D%E7%AB%AF/vue/vue%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89v-model/</url>
    <content><![CDATA[<p>v-modelå…¶å®æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œé»˜è®¤ä¼ é€’åä¸ºvalueçš„propå¹¶ç›‘å¬inputäº‹ä»¶ï¼ŒæŠŠè§¦å‘inputäº‹ä»¶ä¼ è¿‡æ¥çš„å€¼ç”¨ç”¨æ¥æ›´æ–°v-modelç»‘å®šçš„å˜é‡ã€‚åœ¨å­ç»„ä»¶ä¸­ç”¨modelé€‰é¡¹å¯ä»¥æ›´æ”¹propçš„åå­—æˆ–è€…eventçš„åå­—ã€‚å…·ä½“å‚è€ƒä¸‹æ–¹ç¤ºä¾‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;custom-input v-model=<span class="string">&quot;msg&quot;</span>&gt;&lt;/custom-input&gt;</span><br><span class="line"><span class="comment">// å› ä¸ºæ˜¯è¯­æ³•ç³–ï¼Œæ‰€ä»¥ä¹Ÿç­‰åŒäºä¸‹é¢çš„å†™æ³•</span></span><br><span class="line"><span class="comment">//&lt;custom-input :myValue=&quot;msg&quot; @myEvent=&quot;v=&gt;msg=v&quot;/&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">components</span>: [<span class="string">&#x27;custom-input&#x27;</span>],</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">msg</span>:<span class="string">&#x27;init message&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template lang=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¿™æ˜¯æˆ‘çš„ç»„ä»¶ï¼Œå¯ä»¥æ¥å—v-modelå‚æ•°<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">&quot;myValue&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;$emit(&#x27;myEvent&#x27;, $event.target.value)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>:[<span class="string">&#x27;myValue&#x27;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">model</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">prop</span>:<span class="string">&#x27;myValue&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">event</span>:<span class="string">&#x27;myEvent&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//modelä¸æŒ‡å®šçš„è¯é»˜è®¤é»˜è®¤æ˜¯&#123;prop:&#x27;value&#x27;,event:&#x27;input&#x27;&#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>vue</category>
        <category>vueå¼€å‘æŠ€å·§</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>vue</tag>
      </tags>
  </entry>
</search>
